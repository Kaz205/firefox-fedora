Index: nsprpub/pr/include/md/_linux.cfg
===================================================================
RCS file: /cvsroot/mozilla/nsprpub/pr/include/md/_linux.cfg,v
retrieving revision 3.12.4.5
diff -u -r3.12.4.5 _linux.cfg
--- nsprpub/pr/include/md/_linux.cfg	9 Mar 2004 03:18:20 -0000	3.12.4.5
+++ nsprpub/pr/include/md/_linux.cfg	19 Nov 2004 01:36:07 -0000
@@ -505,95 +505,95 @@
 #define PR_BYTES_PER_WORD_LOG2   2
 #define PR_BYTES_PER_DWORD_LOG2  3
 
-#elif defined(__s390__)
+#elif defined(__s390x__)
 
 #define IS_BIG_ENDIAN 1
 #undef  IS_LITTLE_ENDIAN
+#define IS_64
 
 #define PR_BYTES_PER_BYTE   1
 #define PR_BYTES_PER_SHORT  2
 #define PR_BYTES_PER_INT    4
 #define PR_BYTES_PER_INT64  8
-#define PR_BYTES_PER_LONG   4
+#define PR_BYTES_PER_LONG   8
 #define PR_BYTES_PER_FLOAT  4
 #define PR_BYTES_PER_DOUBLE 8
-#define PR_BYTES_PER_WORD   4
+#define PR_BYTES_PER_WORD   8
 #define PR_BYTES_PER_DWORD  8
 
 #define PR_BITS_PER_BYTE    8
 #define PR_BITS_PER_SHORT   16
 #define PR_BITS_PER_INT     32
 #define PR_BITS_PER_INT64   64
-#define PR_BITS_PER_LONG    32
+#define PR_BITS_PER_LONG    64
 #define PR_BITS_PER_FLOAT   32
 #define PR_BITS_PER_DOUBLE  64
-#define PR_BITS_PER_WORD    32
+#define PR_BITS_PER_WORD    64
 
 #define PR_BITS_PER_BYTE_LOG2   3
 #define PR_BITS_PER_SHORT_LOG2  4
 #define PR_BITS_PER_INT_LOG2    5
 #define PR_BITS_PER_INT64_LOG2  6
-#define PR_BITS_PER_LONG_LOG2   5
+#define PR_BITS_PER_LONG_LOG2   6
 #define PR_BITS_PER_FLOAT_LOG2  5
 #define PR_BITS_PER_DOUBLE_LOG2 6
-#define PR_BITS_PER_WORD_LOG2   5
+#define PR_BITS_PER_WORD_LOG2   6
 
 #define PR_ALIGN_OF_SHORT   2
 #define PR_ALIGN_OF_INT     4
-#define PR_ALIGN_OF_LONG    4
-#define PR_ALIGN_OF_INT64   4
+#define PR_ALIGN_OF_LONG    8
+#define PR_ALIGN_OF_INT64   8
 #define PR_ALIGN_OF_FLOAT   4
-#define PR_ALIGN_OF_DOUBLE  4
-#define PR_ALIGN_OF_POINTER 4
-#define PR_ALIGN_OF_WORD    4
+#define PR_ALIGN_OF_DOUBLE  8
+#define PR_ALIGN_OF_POINTER 8
+#define PR_ALIGN_OF_WORD    8
 
-#define PR_BYTES_PER_WORD_LOG2   2
+#define PR_BYTES_PER_WORD_LOG2   3
 #define PR_BYTES_PER_DWORD_LOG2  3
 
-#elif defined(__s390x__)
+#elif defined(__s390__)
 
 #define IS_BIG_ENDIAN 1
 #undef  IS_LITTLE_ENDIAN
-#define IS_64
 
 #define PR_BYTES_PER_BYTE   1
 #define PR_BYTES_PER_SHORT  2
 #define PR_BYTES_PER_INT    4
 #define PR_BYTES_PER_INT64  8
-#define PR_BYTES_PER_LONG   8
+#define PR_BYTES_PER_LONG   4
 #define PR_BYTES_PER_FLOAT  4
 #define PR_BYTES_PER_DOUBLE 8
-#define PR_BYTES_PER_WORD   8
+#define PR_BYTES_PER_WORD   4
 #define PR_BYTES_PER_DWORD  8
 
 #define PR_BITS_PER_BYTE    8
 #define PR_BITS_PER_SHORT   16
 #define PR_BITS_PER_INT     32
 #define PR_BITS_PER_INT64   64
-#define PR_BITS_PER_LONG    64
+#define PR_BITS_PER_LONG    32
 #define PR_BITS_PER_FLOAT   32
 #define PR_BITS_PER_DOUBLE  64
-#define PR_BITS_PER_WORD    64
+#define PR_BITS_PER_WORD    32
 
 #define PR_BITS_PER_BYTE_LOG2   3
 #define PR_BITS_PER_SHORT_LOG2  4
 #define PR_BITS_PER_INT_LOG2    5
 #define PR_BITS_PER_INT64_LOG2  6
-#define PR_BITS_PER_LONG_LOG2   6
+#define PR_BITS_PER_LONG_LOG2   5
 #define PR_BITS_PER_FLOAT_LOG2  5
 #define PR_BITS_PER_DOUBLE_LOG2 6
-#define PR_BITS_PER_WORD_LOG2   6
+#define PR_BITS_PER_WORD_LOG2   5
 
 #define PR_ALIGN_OF_SHORT   2
 #define PR_ALIGN_OF_INT     4
-#define PR_ALIGN_OF_LONG    8
-#define PR_ALIGN_OF_INT64   8
+#define PR_ALIGN_OF_LONG    4
+#define PR_ALIGN_OF_INT64   4
 #define PR_ALIGN_OF_FLOAT   4
-#define PR_ALIGN_OF_DOUBLE  8
-#define PR_ALIGN_OF_POINTER 8
-#define PR_ALIGN_OF_WORD    8
+#define PR_ALIGN_OF_DOUBLE  4
+#define PR_ALIGN_OF_POINTER 4
+#define PR_ALIGN_OF_WORD    4
 
-#define PR_BYTES_PER_WORD_LOG2   3
+#define PR_BYTES_PER_WORD_LOG2   2
 #define PR_BYTES_PER_DWORD_LOG2  3
 
 #else
Index: nsprpub/pr/include/md/_linux.h
===================================================================
RCS file: /cvsroot/mozilla/nsprpub/pr/include/md/_linux.h,v
retrieving revision 3.34.2.8
diff -u -r3.34.2.8 _linux.h
--- nsprpub/pr/include/md/_linux.h	9 Mar 2004 03:18:20 -0000	3.34.2.8
+++ nsprpub/pr/include/md/_linux.h	19 Nov 2004 01:36:07 -0000
@@ -63,10 +63,10 @@
 #define _PR_SI_ARCHITECTURE "arm"
 #elif defined(__hppa__)
 #define _PR_SI_ARCHITECTURE "hppa"
-#elif defined(__s390__)
-#define _PR_SI_ARCHITECTURE "s390"
 #elif defined(__s390x__)
 #define _PR_SI_ARCHITECTURE "s390x"
+#elif defined(__s390__)
+#define _PR_SI_ARCHITECTURE "s390"
 #else
 #error "Unknown CPU architecture"
 #endif
